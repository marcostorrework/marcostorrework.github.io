<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
  <link rel="stylesheet" href="style.css">

  <!-- Import Vega & Vega-Lite (does not have to be from CDN) -->
  <script src="https://d3js.org/d3.v7.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/vega@5"></script>
  <script src="https://cdn.jsdelivr.net/npm/vega-lite@4.8.1"></script>
  <!-- Import vega-embed -->
  <script src="https://cdn.jsdelivr.net/npm/vega-embed@6"></script>
  <script>
    function change_category(cat) {
      if (cat.substr(0,3)=='cat') {
        chart_file = 'dashboard-' + cat + '-spec.json'

        cat_desc = {
          "cat0": 'Agriculture & Natural Resources',
          "cat1": 'Arts',
          "cat2": 'Biology & Life Science',
          "cat3": 'Business',
          "cat4": 'Communications & Journalism',
          "cat5": 'Computers & Mathematics',
          "cat6": 'Education',
          "cat7": 'Engineering',
          "cat8": 'Health',
          "cat9": 'Humanities & Liberal Arts',
          "cat10": 'Industrial Arts & Consumer Services',
          "cat11": 'Interdisciplinary',
          "cat12": 'Law & Public Policy',
          "cat13": 'Physical Sciences',
          "cat14": 'Psychology & Social Work',
          "cat15": 'Social Science'
        }
        document.getElementById('page_title').textContent = 'Major category: '+cat_desc[cat]
      }
      else {
        chart_file='dashboard-spec.json'
        document.getElementById('page_title').textContent = 'Overview of categories'
      }
      var spec = chart_file
      vegaEmbed('#vis', spec)
    }
  </script>
</head>
<body>
  <h1>Income and employment by major</h1>
  <h3>Data from graduates 2019</h3>
  <h2 id="page_title">Overview of categories</h2>

  <form>
    Choose a major category:
    <select id="dropdown_cat" onchange="change_category(document.getElementById('dropdown_cat').selectedOptions[0].value)">
      <option value="all">Overview of categories</option>
      <option value="cat0">Agriculture & Natural Resources</option>
      <option value="cat1">Arts</option>
      <option value="cat2">Biology & Life Science</option>
      <option value="cat3">Business</option>
      <option value="cat4">Communications & Journalism</option>
      <option value="cat5">Computers & Mathematics</option>
      <option value="cat6">Education</option>
      <option value="cat7">Engineering</option>
      <option value="cat8">Health</option>
      <option value="cat9">Humanities & Liberal Arts</option>
      <option value="cat10">Industrial Arts & Consumer Services</option>
      <option value="cat11">Interdisciplinary</option>
      <option value="cat12">Law & Public Policy</option>
      <option value="cat13">Physical Sciences</option>
      <option value="cat14">Psychology & Social Work</option>
      <option value="cat15">Social Science</option>
    </select>
  </form>

<div class="" id="vis"></div>

<div>
<button type="button" onclick="change_category('all')">Back to overview</button>
</div>
<script type="text/javascript">
  var spec = 'dashboard-spec.json';
  vegaEmbed('#vis', spec).then(function(result) {
    // Access the Vega view instance (https://vega.github.io/vega/docs/api/view/) as result.view
  })
</script>
</body>
</html> 
